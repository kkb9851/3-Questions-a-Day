이 코드는 **달팽이 모양의 숫자 배열을 생성하는 프로그램**입니다. 한 줄씩 자세히 설명드리겠습니다.

---

## 📌 코드의 주요 아이디어

정사각형 2차원 배열 안에 1부터 N×N까지의 숫자를 **시계방향으로 회전하면서** 채워 넣는 것입니다. 이를 흔히 **달팽이 배열** 혹은 **스네일 배열**이라고 부릅니다.

---

## 📄 코드 설명

```python
T = int(input())
```

* 테스트 케이스의 수를 입력받습니다.

```python
di = [0, 1, 0, -1]
dj = [1, 0, -1, 0]
```

* 방향을 정의합니다: 오른쪽(→), 아래(↓), 왼쪽(←), 위(↑)

  * `dr = 0` → 오른쪽
  * `dr = 1` → 아래
  * `dr = 2` → 왼쪽
  * `dr = 3` → 위
* `di`는 행의 변화량, `dj`는 열의 변화량입니다.

```python
for test_case in range(1, T + 1):
    N = int(input())
    arr = [[0] * N for _ in range(N)]
```

* 각 테스트 케이스마다 크기 N의 배열을 생성합니다.
* 배열은 N x N 크기이며 처음에는 전부 0으로 초기화됩니다.

```python
i, j, cnt, dr = 0, 0, 1, 0  # 초기 위치 (0,0), 시작 숫자 1, 방향 오른쪽
arr[i][j] = cnt
cnt += 1
```

* `(i, j)`는 현재 위치, `cnt`는 현재 채워야 할 숫자, `dr`은 방향 인덱스입니다.
* 시작 위치 `(0,0)`에 1을 채웁니다.

```python
while cnt <= N*N:
    ni, nj = i+di[dr], j+dj[dr]  # 다음 위치
    if 0<=ni<N and 0<=nj<N and arr[ni][nj]==0:
        i, j = ni, nj
        arr[i][j]=cnt
        cnt+=1
    else:
        dr = (dr+1)%4  # 방향 전환
```

* 다음 위치 `(ni, nj)`가 범위 내이고 아직 채워지지 않은 곳이면 이동하고 숫자를 채웁니다.
* 그렇지 않으면 방향을 시계방향으로 전환합니다 (`dr = (dr + 1) % 4`).

```python
print(f'#{test_case}')
for lst in arr:
    print(*lst)
```

* 결과를 형식에 맞춰 출력합니다.
* `print(*lst)`는 리스트의 요소들을 공백을 두고 출력합니다.

---

## 🌀 예시

입력:

```
1
3
```

출력:

```
#1
1 2 3
8 9 4
7 6 5
```

---

## 💡 핵심 아이디어 요약

* 방향 배열을 이용해 시계방향으로 회전
* 벽에 닿거나 이미 채워진 칸을 만나면 방향 전환
* 전체 배열이 채워질 때까지 반복

---
